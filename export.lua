nature = {"Hardy","Lonely","Brave","Adamant","Naughty",
			"Bold","Docile","Relaxed","Impish","Lax",
			"Timid","Hasty","Serious","Jolly","Naive",
			"Modest","Mild","Quiet","Bashful","Rash",
			"Calm","Gentle","Sassy","Careful","Quirky"}

item = {'Master Ball',
'Ultra Ball',
'Great Ball',
'Poke Ball', 
'Safari Ball',
'Net Ball',   
'Dive Ball',
'Nest Ball',  
'Repeat Ball',
'Timer Ball', 
'Luxury Ball',
'Premier Ball',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'Energy Powder',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'Berry Juice',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'Sun Stone',
'Moon Stone',
'Fire Stone',
'Thunder Stone',
'Water Stone',
'Leaf Stone',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'Cheri Berry',
'Chesto Berry',
'Pecha Berry',
'Rawst Berry',
'Aspear Berry',
'Leppa Berry',
'Oran Berry',
'Persim Berry',
'Lum Berry',
'Sitrus Berry',
'Figy Berry',
'Wiki Berry',
'Mago Berry',
'Aguav Berry',
'Iapapa Berry',
'Razz Berry',
'Bluk Berry',
'Nanab Berry',
'Wepear Berry',
'Pinap Berry',
'Pomeg Berry',
'Kelpsy Berry',
'Qualot Berry',
'Hondew Berry',
'Grepa Berry',
'Tamato Berry',
'Cornn Berry',
'Magost Berry',
'Rabuta Berry',
'Nomel Berry',
'Spelon Berry',
'Pamtre Berry',
'Watmel Berry',
'Durin Berry',
'Belue Berry',
'Liechi Berry',
'Ganlon Berry',
'Salac Berry',
'Petaya Berry',
'Apicot Berry',
'Lansat Berry',
'Starf Berry',
'Enigma Berry',
' ',' ',' ',
'Bright Powder',
'White Herb',
'Macho Brace',
' ',
'Quick Claw',
' ',
'Mental Herb',
'Choice Band',
"King's Rock",
'Silver Powder',
' ',' ',
'Soul Dew',
'Deep Sea Tooth',
'Deep Sea Scale',
' ',' ',
'Focus Band',
' ',
'Scope Lens',
'Metal Coat',
'Leftovers',
'Dragon Scale',
'Light Ball',
'Soft Sand',
'Hard Stone',
'Miracle Seed',
'Black Glasses',
'Black Belt',
'Magnet',
'Mystic Water',
'Sharp Beak',
'Poison Barb',
'Never-Melt Ice',
'Spell Tag',
'Twisted Spoon',
'Charcoal',
'Dragon Fang',
'Silk Scarf',
'Up-Grade',
'Shell Bell',
'Sea Incense',
'Lax Incense',
'Lucky Punch',
'Metal Powder',
'Thick Club',
'Stick',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'Red Orb',
'Blue Orb',
' ',' ',' ',' ',' ',' ',' ',' ',
'Root Fossil',
'Claw Fossil',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',
'Old Amber',
' ',' ',
'Helix Fossil',
'Dome Fossil',
' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',}

move = {
'Pound',
'Karate Chop',
'Double Slap',
'Weather Ball',
'Mega Punch',
'Pay Day',
'Fire Punch',
'Ice Punch',
'Thunder Punch',
'Scratch',
'Weather Ball',
'Guillotine',
'Razor Wind',
'Swords Dance',
'Cut',
'Gust',
'Wing Attack',
'Whirlwind',
'Fly',
'Ice Shard',
'Metal Bash',
'Vine Whip',
'Stomp',
'Double Kick',
'Mega Kick',
'Jump Kick',
'Rolling Kick',
'Sand Attack',
'Headbutt',
'Horn Attack',
'Volt Switch',
'Horn Drill',
'Tackle',
'Body Slam',
'Wrap',
'Take Down',
'Thrash',
'Double-Edge',
'Tail Whip',
'Poison Sting',
'Twineedle',
'Pin Missile',
'Leer',
'Bite',
'Growl',
'U-Turn',
'Sucker Punch',
'Shadow Sneak',
'Sonicboom',
'Disable',
'Acid',
'Ember',
'Flamethrower',
'Shadow Slam',
'Water Gun',
'Hydro Pump',
'Surf',
'Ice Beam',
'Blizzard',
'Psybeam',
'Bubble Beam',
'Aurora Beam',
'Hyper Beam',
'Peck',
'Drill Peck',
'Submission',
'Low Kick',
'Counter',
'Seismic Toss',
'Strength',
'Absorb',
'Mega Drain',
'Leech Seed',
'Growth',
'Razor Leaf',
'Solar Beam',
'Poison Powder',
'Stun Spore',
'Sleep Powder',
'Petal Dance',
'String Shot',
'Dragon Rage',
'Weather Ball',
'Thunder Shock',
'Thunderbolt',
'Thunder Wave',
'Thunder',
'Rock Throw',
'Earthquake',
'Fissure',
'Dig',
'Toxic',
'Confusion',
'Psychic',
'Hypnosis',
'Meditate',
'Agility',
'Quick Attack',
'Bullet Punch',
'Teleport',
'Night Shade',
'Head Smash',
'Screech',
'Double Team',
'Recover',
'Harden',
'Minimize',
'Aqua Jet',
'Confuse Ray',
'Withdraw',
'Defense Curl',
'Barrier',
'Light Screen',
'Haze',
'Reflect',
'Focus Energy',
'Accelerock',
'Metronome',
'Mirror Move',
'Self-Destruct',
'Egg Bomb',
'Lick',
'Smog',
'Sludge',
'Bone Club',
'Fire Blast',
'Waterfall',
'Clamp',
'Swift',
'Skull Bash',
'Spike Cannon',
'Constrict',
'Amnesia',
'Kinesis',
'Soft-Boiled',
'Hi Jump Kick',
'Glare',
'Dream Eater',
'Poison Gas',
'Barrage',
'Leech Life',
'Lovely Kiss',
'Sky Attack',
'Transform',
'Bubble',
'Dizzy Punch',
'Spore',
'Flash',
'Psywave',
'Splash',
'Acid Armor',
'Crabhammer',
'Explosion',
'Fury Swipes',
'Bonemerang',
'Rest',
'Rock Slide',
'Hyper Fang',
'Sharpen',
'Conversion',
'Tri Attack',
'Super Fang',
'Slash',
'Substitute',
'Struggle',
'Sketch',
'Triple Kick',
'Thief',
'Night Daze',
'Mind Reader',
'Nightmare',
'Flame Wheel',
'Snore',
'Curse',
'Flail',
'Conversion 2',
'Aeroblast',
'Cotton Spore',
'Reversal',
'Spite',
'Powder Snow',
'Protect',
'Mach Punch',
'Scary Face',
'Faint Attack',
'Sweet Kiss',
'Belly Drum',
'Sludge Bomb',
'Mud-Slap',
'Octazooka',
'Spikes',
'Zap Cannon',
'Foresight',
'Destiny Bond',
'Perish Song',
'Icy Wind',
'Detect',
'Bone Rush',
'Lock-On',
'Outrage',
'Sandstorm',
'Giga Drain',
'Endure',
'Charm',
'Rollout',
'False Swipe',
'Swagger',
'Milk Drink',
'Spark',
'Fury Cutter',
'Steel Wing',
'Mean Look',
'Attract',
'Sleep Talk',
'Heal Bell',
'Return',
'Present',
'Frustration',
'Safeguard',
'Pain Split',
'Sacred Fire',
'Magnitude',
'Dynamic Punch',
'Megahorn',
'Dragon Breath',
'Baton Pass',
'Encore',
'Pursuit',
'Rapid Spin',
'Sweet Scent',
'Iron Tail',
'Metal Claw',
'Vital Throw',
'Morning Sun',
'Synthesis',
'Moonlight',
'Hidden Power',
'Cross Chop',
'Twister',
'Rain Dance',
'Sunny Day',
'Crunch',
'Mirror Coat',
'Psych Up',
'Extreme Speed',
'Ancientpower',
'Shadow Ball',
'Future Sight',
'Rock Smash',
'Whirlpool',
'Beat Up',
'Fake Out',
'Uproar',
'Stockpile',
'Spit Up',
'Swallow',
'Heat Wave',
'Hail',
'Torment',
'Flatter',
'Will-O-Wisp',
'Memento',
'Facade',
'Focus Punch',
'Smelling Salts',
'Follow Me',
'Nature Power',
'Charge',
'Taunt',
'Helping Hand',
'Trick',
'Role Play',
'Wish',
'Assist',
'Ingrain',
'Superpower',
'Magic Coat',
'Recycle',
'Revenge',
'Brick Break',
'Yawn',
'Knock Off',
'Endeavor',
'Eruption',
'Skill Swap',
'Imprison',
'Refresh',
'Grudge',
'Snatch',
'Secret Power',
'Dive',
'Arm Thrust',
'Camouflage',
'Tail Glow',
'Luster Purge',
'Mist Ball',
'Feather Dance',
'Teeter Dance',
'Blaze Kick',
'Mud Sport',
'Ice Ball',
'Needle Arm',
'Slack Off',
'Hyper Voice',
'Poison Fang',
'Crush Claw',
'Blast Burn',
'Hydro Cannon',
'Meteor Mash',
'Weather Ball',
'Weather Ball',
'Aromatherapy',
'Fake Tears',
'Air Cutter',
'Overheat',
'Flash Cannon',
'Rock Tomb',
'Silver Wind',
'Metal Sound',
'Grass Whistle',
'Tickle',
'Cosmic Power',
'Water Spout',
'Signal Beam',
'Shadow Punch',
'Extrasensory',
'Sky Uppercut',
'Sand Tomb',
'Sheer Cold',
'Muddy Water',
'Bullet Seed',
'Aerial Ace',
'Icicle Spear',
'Iron Defense',
'Block',
'Howl',
'Dragon Claw',
'Frenzy Plant',
'Bulk Up',
'Bounce',
'Mud Shot',
'Poison Tail',
'Covet',
'Volt Tackle',
'Magical Leaf',
'Water Sport',
'Calm Mind',
'Leaf Blade',
'Dragon Dance',
'Rock Blast',
'Shock Wave',
'Water Pulse',
'Doom Desire',
'Psycho Boost'
} 

ability = {
'Overgrow','Overgrow',           -- 1 Bulbasaur
'Overgrow','Overgrow',           -- 2 Ivysaur
'Overgrow','Overgrow',           -- 3 Venusaur
'Blaze','Blaze',                 -- 4 Charmander
'Blaze','Blaze',                 -- 5 Charmeleon
'Blaze','Blaze',                 -- 6 Charizard
'Torrent','Torrent',             -- 7 Squirtle
'Torrent','Torrent',             -- 8 Wartortle
'Torrent','Torrent',             -- 9 Blastoise
'Shield Dust','Shield Dust',     -- 10 Caterpie
'Shed Skin','Shed Skin',         -- 11 Metapod
'Compound Eyes','Compound Eyes', -- 12 Butterfree
'Shield Dust','Shield Dust',     -- 13 Weedle
'Shed Skin','Shed Skin',         -- 14 Kakuna
'Swarm','Swarm',                 -- 15 Beedrill
'Keen Eye','Keen Eye',           -- 16 Pidgey
'Keen Eye','Keen Eye',           -- 17 Pidgeotto
'Keen Eye','Keen Eye',           -- 18 Pidgeot
'Run Away','Guts',               -- 19 Rattata
'Run Away','Guts',               -- 20 Raticate
'Keen Eye','Keen Eye',           -- 21 Spearow
'Keen Eye','Keen Eye',           -- 22 Fearow
'Intimidate','Shed Skin',        -- 23 Ekans
'Intimidate','Shed Skin',        -- 24 Arbok
'Static','Static',               -- 25 Pikachu
'Static','Static',               -- 26 Raichu
'Sand Veil','Sand Veil',         -- 27 Sandshrew
'Sand Veil','Sand Veil',         -- 28 Sandslash
'Poison Point','Poison Point',   -- 29 Nidoran F
'Poison Point','Poison Point',   -- 30 Nidorina
'Poison Point','Poison Point',   -- 31 Nidoqueen
'Poison Point','Poison Point',   -- 32 Nidoran M
'Poison Point','Poison Point',   -- 33 Nidorino
'Poison Point','Poison Point',   -- 34 Nidoking
'Cute Charm','Cute Charm',       -- 35 Clefairy
'Cute Charm','Cute Charm',       -- 36 Clefable
'Flash Fire','Flash Fire',       -- 37 Vulpix
'Flash Fire','Flash Fire',       -- 38 Ninetales
'Cute Charm','Cute Charm',       -- 39 Jigglypuff
'Cute Charm','Cute Charm',       -- 40 Wigglytuff
'Inner Focus','Inner Focus',     -- 41 Zubat
'Inner Focus','Inner Focus',     -- 42 Golbat
'Chlorophyll','Chlorophyll',     -- 43 Oddish
'Chlorophyll','Chlorophyll',     -- 44 Gloom
'Chlorophyll','Chlorophyll',     -- 45 Vileplume
'Effect Spore','Effect Spore',   -- 46 Paras
'Effect Spore','Effect Spore',   -- 47 Parasect
'Compound Eyes','Compound Eyes', -- 48 Venonat
'Shield Dust','Shield Dust',     -- 49 Venomoth
'Sand Veil','Arena Trap',        -- 50 Diglett
'Sand Veil','Arena Trap',        -- 51 Dugtrio
'Pickup','Pickup',               -- 52 Meowth
'Limber','Limber',               -- 53 Persian
'Damp','Cloud Nine',             -- 54 Psyduck
'Damp','Cloud Nine',             -- 55 Golduck
'Vital Spirit','Vital Spirit',   -- 56 Mankey
'Vital Spirit','Vital Spirit',   -- 57 Primeape
'Intimidate','Flash Fire',       -- 58 Growlithe
'Intimidate','Flash Fire',       -- 59 Arcanine
'Water Absorb','Damp',           -- 60 Poliwag
'Water Absorb','Damp',           -- 61 Poliwhirl
'Water Absorb','Damp',           -- 62 Poliwrath
'Synchronize','Inner Focus',     -- 63 Abra
'Synchronize','Inner Focus',     -- 64 Kadabra
'Synchronize','Inner Focus',     -- 65 Alakazam
'Guts','Guts',                   -- 66 Machop
'Guts','Guts',                   -- 67 Machoke
'Guts','Guts',                   -- 68 Machamp
'Chlorophyll','Chlorophyll',     -- 69 Bellsprout
'Chlorophyll','Chlorophyll',     -- 70 Weepinbell
'Chlorophyll','Chlorophyll',     -- 71 Victreebel
'Swift Swim','Clear Body',       -- 72 Tentacool
'Swift Swim','Clear Body',       -- 73 Tentacruel
'Rock Head','Sturdy',            -- 74 Geodude
'Rock Head','Sturdy',            -- 75 Graveler
'Rock Head','Sturdy',            -- 76 Golem
'Run Away','Flash Fire',         -- 77 Ponyta
'Run Away','Flash Fire',         -- 78 Rapidash
'Oblivious','Own Tempo',         -- 79 Slowpoke
'Oblivious','Own Tempo',         -- 80 Slowbro
'Magnet Pull','Sturdy',          -- 81 Magnemite
'Magnet Pull','Sturdy',          -- 82 Magneton
'Keen Eye','Keen Eye',           -- 83 Farfetch'd
'Early Bird','Run Away',         -- 84 Doduo
'Early Bird','Run Away',         -- 85 Dodrio
'Thick Fat','Thick Fat',         -- 86 Seel
'Thick Fat','Thick Fat',         -- 87 Dewgong
'Sticky Hold','Sticky Hold',     -- 88 Grimer
'Sticky Hold','Sticky Hold',     -- 89 Muk
'Shell Armor','Shell Armor',     -- 90 Shellder
'Shell Armor','Shell Armor',     -- 91 Cloyster
'Levitate','Levitate',           -- 92 Gastly
'Levitate','Levitate',           -- 93 Haunter
'Levitate','Levitate',           -- 94 Gengar
'Rock Head','Sturdy',            -- 95 Onix
'Insomnia','Insomnia',           -- 96 Drowzee
'Insomnia','Insomnia',           -- 97 Hypno
'Hyper Cutter','Shell Armor',    -- 98 Krabby
'Hyper Cutter','Shell Armor',    -- 99 Kingler
'Soundproof','Static',           -- 100 Voltorb
'Soundproof','Static',           -- 101 Electrode
'Chlorophyll','Chlorophyll',     -- 102 Exeggcute
'Chlorophyll','Chlorophyll',     -- 103 Exeggutor
'Rock Head','Lightningrod',      -- 104 Cubone
'Rock Head','Lightningrod',      -- 105 Marowak
'Limber','Limber',               -- 106 Hitmonlee
'Keen Eye','Keen Eye',           -- 107 Hitmonchan
'Oblivious','Oblivious',         -- 108 Lickitung
'Levitate','Levitate',           -- 109 Koffing
'Levitate','Levitate',           -- 110 Weezing
'Lightningrod','Rock Head',      -- 111 Rhyhorn
'Lightningrod','Rock Head',      -- 112 Rhydon
'Natural Cure','Serene Grace',   -- 113 Chansey
'Chlorophyll','Chlorophyll',     -- 114 Tangela
'Early Bird','Early Bird',       -- 115 Kangaskhan
'Swift Swim','Swift Swim',       -- 116 Horsea
'Swift Swim','Swift Swim',       -- 117 Seadra
'Swift Swim','Oblivious',        -- 118 Goldeen
'Swift Swim','Oblivious',        -- 119 Seaking
'Illuminate','Natural Cure',     -- 120 Staryu
'Illuminate','Natural Cure',     -- 121 Starmie
'Soundproof','Soundproof',       -- 122 Mr. Mime
'Swarm','Swarm',                 -- 123 Scyther
'Oblivious','Early Bird',        -- 124 Jynx
'Static','Static',               -- 125 Electabuzz
'Flame Body','Flame Body',       -- 126 Magmar
'Hyper Cutter','Swarm',          -- 127 Pinsir
'Intimidate','Intimidate',       -- 128 Tauros
'Swift Swim','Swift Swim',       -- 129 Magikarp
'Intimidate','Intimidate',       -- 130 Gyarados
'Swift Swim','Shell Armor',      -- 131 Lapras
'Limber','Limber',               -- 132 Ditto
'Run Away','Run Away',           -- 133 Eevee
'Water Absorb','Water Absorb',   -- 134 Vaporeon
'Volt Absorb','Volt Absorb',     -- 135 Jolteon
'Flash Fire','Flash Fire',       -- 136 Flareon
'Trace','Trace',                 -- 137 Porygon
'Swift Swim','Battle Armor',     -- 138 Omanyte
'Swift Swim','Battle Armor',     -- 139 Omastar
'Swift Swim','Battle Armor',     -- 140 Kabuto
'Swift Swim','Battle Armor',     -- 141 Kabutops
'Rock Head','Pressure',          -- 142 Aerodactyl
'Immunity','Thick Fat',          -- 143 Snorlax
'Pressure','Pressure',           -- 144 Articuno
'Pressure','Pressure',           -- 145 Zapdos
'Pressure','Pressure',           -- 146 Moltres
'Shed Skin','Shed Skin',         -- 147 Dratini
'Shed Skin','Shed Skin',         -- 148 Dragonair
'Inner Focus','Inner Focus',     -- 149 Dragonite
'Pressure','Pressure',           -- 150 Mewtwo
'Synchronize','Synchronize',      -- 151 Mew
-- Continuação da tabela ability (152 a 386)
-- Adicione isso logo após o Mew (151) na sua lista anterior
-- JOHTO
'Overgrow','Overgrow',           -- 152 Chikorita
'Overgrow','Overgrow',           -- 153 Bayleef
'Overgrow','Overgrow',           -- 154 Meganium
'Blaze','Blaze',                 -- 155 Cyndaquil
'Blaze','Blaze',                 -- 156 Quilava
'Blaze','Blaze',                 -- 157 Typhlosion
'Torrent','Torrent',             -- 158 Totodile
'Torrent','Torrent',             -- 159 Croconaw
'Torrent','Torrent',             -- 160 Feraligatr
'Run Away','Keen Eye',           -- 161 Sentret
'Run Away','Keen Eye',           -- 162 Furret
'Insomnia','Keen Eye',           -- 163 Hoothoot
'Insomnia','Keen Eye',           -- 164 Noctowl
'Swarm','Early Bird',            -- 165 Ledyba
'Swarm','Early Bird',            -- 166 Ledian
'Insomnia','Swarm',              -- 167 Spinarak
'Insomnia','Swarm',              -- 168 Ariados
'Inner Focus','Inner Focus',     -- 169 Crobat
'Volt Absorb','Illuminate',      -- 170 Chinchou
'Volt Absorb','Illuminate',      -- 171 Lanturn
'Static','Static',               -- 172 Pichu
'Cute Charm','Cute Charm',       -- 173 Cleffa
'Cute Charm','Cute Charm',       -- 174 Igglybuff
'Serene Grace','Serene Grace',   -- 175 Togepi
'Serene Grace','Serene Grace',   -- 176 Togetic
'Synchronize','Inner Focus',     -- 177 Natu
'Synchronize','Inner Focus',     -- 178 Xatu
'Static','Static',               -- 179 Mareep
'Static','Static',               -- 180 Flaaffy
'Static','Static',               -- 181 Ampharos
'Chlorophyll','Chlorophyll',     -- 182 Bellossom
'Huge Power','Thick Fat',        -- 183 Marill
'Huge Power','Thick Fat',        -- 184 Azumarill
'Sturdy','Rock Head',            -- 185 Sudowoodo
'Damp','Water Absorb',           -- 186 Politoed
'Chlorophyll','Chlorophyll',     -- 187 Hoppip
'Chlorophyll','Chlorophyll',     -- 188 Skiploom
'Chlorophyll','Chlorophyll',     -- 189 Jumpluff
'Run Away','Pickup',             -- 190 Aipom
'Chlorophyll','Chlorophyll',     -- 191 Sunkern
'Chlorophyll','Chlorophyll',     -- 192 Sunflora
'Compound Eyes','Speed Boost',   -- 193 Yanma
'Water Absorb','Damp',           -- 194 Wooper
'Water Absorb','Damp',           -- 195 Quagsire
'Synchronize','Synchronize',     -- 196 Espeon
'Synchronize','Synchronize',     -- 197 Umbreon
'Insomnia','Insomnia',           -- 198 Murkrow
'Oblivious','Own Tempo',         -- 199 Slowking
'Levitate','Levitate',           -- 200 Misdreavus
'Levitate','Levitate',           -- 201 Unown
'Shadow Tag','Shadow Tag',       -- 202 Wobbuffet
'Early Bird','Early Bird',       -- 203 Girafarig
'Sturdy','Rock Head',            -- 204 Pineco
'Sturdy','Sturdy',               -- 205 Forretress
'Serene Grace','Serene Grace',   -- 206 Dunsparce (Serene Grace na Gen 3)
'Hyper Cutter','Sand Veil',      -- 207 Gligar
'Sturdy','Rock Head',            -- 208 Steelix
'Intimidate','Run Away',         -- 209 Snubbull (Intimidate/Run Away na Gen 3)
'Intimidate','Run Away',         -- 210 Granbull
'Swift Swim','Guts',             -- 211 Qwilfish
'Swarm','Keen Eye',              -- 212 Scizor
'Sturdy','Sturdy',               -- 213 Shuckle
'Swarm','Guts',                  -- 214 Heracross
'Inner Focus','Inner Focus',     -- 215 Sneasel
'Pickup','Pickup',               -- 216 Teddiursa
'Pickup','Guts',                 -- 217 Ursaring
'Magma Armor','Flame Body',      -- 218 Slugma
'Magma Armor','Flame Body',      -- 219 Magcargo
'Oblivious','Thick Fat',         -- 220 Swinub
'Oblivious','Thick Fat',         -- 221 Piloswine
'Sturdy','Sturdy',               -- 222 Corsola
'Hustle','Natural Cure',         -- 223 Remoraid
'Suction Cups','Suction Cups',   -- 224 Octillery corrigido
'Vital Spirit','Vital Spirit',   -- 225 Delibird
'Swift Swim','Swift Swim',       -- 226 Mantine
'Keen Eye','Sturdy',             -- 227 Skarmory
'Early Bird','Flash Fire',       -- 228 Houndour
'Early Bird','Flash Fire',       -- 229 Houndoom
'Swift Swim','Swift Swim',       -- 230 Kingdra
'Pickup','Pickup',               -- 231 Phanpy
'Sturdy','Sturdy',               -- 232 Donphan
'Trace','Trace',                 -- 233 Porygon2
'Early Bird','Early Bird',       -- 234 Stantler
'Own Tempo','Own Tempo',         -- 235 Smeargle
'Guts','Guts',                   -- 236 Tyrogue
'Limber','Limber',               -- 237 Hitmontop
'Oblivious','Early Bird',        -- 238 Smoochum
'Static','Static',               -- 239 Elekid
'Flame Body','Flame Body',       -- 240 Magby
'Guts','Guts',                   -- 241 Miltank
'Natural Cure','Serene Grace',   -- 242 Blissey
'Pressure','Pressure',           -- 243 Raikou
'Pressure','Pressure',           -- 244 Entei
'Pressure','Pressure',           -- 245 Suicune
'Guts','Guts',                   -- 246 Larvitar
'Shed Skin','Shed Skin',         -- 247 Pupitar
'Sand Stream','Sand Stream',     -- 248 Tyranitar
'Pressure','Pressure',           -- 249 Lugia
'Pressure','Pressure',           -- 250 Ho-Oh
'Natural Cure','Natural Cure',   -- 251 Celebi

-- HOENN
'Overgrow','Overgrow',           -- 252 Treecko
'Overgrow','Overgrow',           -- 253 Grovyle
'Overgrow','Overgrow',           -- 254 Sceptile
'Blaze','Blaze',                 -- 255 Torchic
'Blaze','Blaze',                 -- 256 Combusken
'Blaze','Blaze',                 -- 257 Blaziken
'Torrent','Torrent',             -- 258 Mudkip
'Torrent','Torrent',             -- 259 Marshtomp
'Torrent','Torrent',             -- 260 Swampert
'Run Away','Run Away',           -- 261 Poochyena
'Intimidate','Intimidate',       -- 262 Mightyena
'Run Away','Run Away',           -- 263 Zigzagoon
'Pickup','Pickup',               -- 264 Linoone
'Shield Dust','Shield Dust',     -- 265 Wurmple
'Shed Skin','Shed Skin',         -- 266 Silcoon
'Compound Eyes','Compound Eyes', -- 267 Beautifly
'Shed Skin','Shed Skin',         -- 268 Cascoon
'Swarm','Swarm',                 -- 269 Dustox
'Swift Swim','Rain Dish',        -- 270 Lotad
'Swift Swim','Rain Dish',        -- 271 Lombre
'Swift Swim','Rain Dish',        -- 272 Ludicolo
'Chlorophyll','Early Bird',      -- 273 Seedot
'Chlorophyll','Early Bird',      -- 274 Nuzleaf
'Chlorophyll','Early Bird',      -- 275 Shiftry
'Guts','Guts',                   -- 276 Taillow
'Guts','Guts',                   -- 277 Swellow
'Keen Eye','Keen Eye',           -- 278 Wingull
'Keen Eye','Keen Eye',           -- 279 Pelipper corrigido
'Synchronize','Inner Focus',     -- 280 Ralts
'Synchronize','Inner Focus',     -- 281 Kirlia
'Synchronize','Inner Focus',     -- 282 Gardevoir
'Swift Swim','Swift Swim',       -- 283 Surskit
'Intimidate','Intimidate',       -- 284 Masquerain
'Effect Spore','Effect Spore',   -- 285 Shroomish
'Effect Spore','Effect Spore',   -- 286 Breloom
'Truant','Truant',               -- 287 Slakoth
'Vital Spirit','Vital Spirit',   -- 288 Vigoroth
'Truant','Truant',               -- 289 Slaking
'Shed Skin','Shed Skin',         -- 290 Nincada
'Compound Eyes','Compound Eyes', -- 291 Ninjask
'Wonder Guard','Wonder Guard',   -- 292 Shedinja
'Soundproof','Soundproof',       -- 293 Whismur
'Soundproof','Soundproof',       -- 294 Loudred
'Soundproof','Soundproof',       -- 295 Exploud
'Pure Power','Pure Power',       -- 296 Makuhita
'Guts','Guts',                   -- 297 Hariyama
'Huge Power','Thick Fat',        -- 298 Azurill
'Sturdy','Sturdy',               -- 299 Nosepass
'Cute Charm','Cute Charm',       -- 300 Skitty
'Cute Charm','Cute Charm',       -- 301 Delcatty corrigido
'Keen Eye','Keen Eye',           -- 302 Sableye corrigido
'Hyper Cutter','Intimidate',     -- 303 Mawile corrigido
'Sturdy','Rock Head',            -- 304 Aron
'Sturdy','Rock Head',            -- 305 Lairon
'Sturdy','Rock Head',            -- 306 Aggron
'Pure Power','Pure Power',       -- 307 Meditite
'Pure Power','Pure Power',       -- 308 Medicham
'Static','Static',               -- 309 Electrike
'Static','Lightningrod',         -- 310 Manectric
'Plus','Plus',                   -- 311 Plusle
'Minus','Minus',                 -- 312 Minun
'Illuminate','Swarm',            -- 313 Volbeat
'Illuminate','Swarm',            -- 314 Illumise
'Chlorophyll','Chlorophyll',     -- 315 Roselia
'Liquid Ooze','Sticky Hold',     -- 316 Gulpin
'Liquid Ooze','Sticky Hold',     -- 317 Swalot
'Rough Skin','Rough Skin',       -- 318 Carvanha
'Rough Skin','Rough Skin',       -- 319 Sharpedo
'Water Veil','Water Veil',       -- 320 Wailmer
'Water Veil','Water Veil',       -- 321 Wailord
'Oblivious','Magma Armor',       -- 322 Numel
'Magma Armor','White Smoke',     -- 323 Camerupt
'White Smoke','White Smoke',     -- 324 Torkoal
'Own Tempo','Soundproof',        -- 325 Spoink
'Own Tempo','Own Tempo',         -- 326 Grumpig
'Own Tempo','Own Tempo',         -- 327 Spinda
'Hyper Cutter','Hyper Cutter',   -- 328 Trapinch
'Levitate','Levitate',           -- 329 Vibrava
'Levitate','Levitate',           -- 330 Flygon
'Chlorophyll','Chlorophyll',     -- 331 Cacnea
'Chlorophyll','Chlorophyll',     -- 332 Cacturne
'Natural Cure','Natural Cure',   -- 333 Swablu
'Natural Cure','Natural Cure',   -- 334 Altaria
'Run Away','Guts',               -- 335 Zangoose
'Immunity','Immunity',           -- 336 Seviper
'Levitate','Levitate',           -- 337 Lunatone
'Levitate','Levitate',           -- 338 Solrock
'Swift Swim','Oblivious',        -- 339 Barboach
'Swift Swim','Oblivious',        -- 340 Whiscash
'Hyper Cutter','Shell Armor',    -- 341 Corphish
'Hyper Cutter','Shell Armor',    -- 342 Crawdaunt
'Levitate','Levitate',           -- 343 Baltoy
'Levitate','Levitate',           -- 344 Claydol
'Suction Cups','Suction Cups',   -- 345 Lileep
'Suction Cups','Suction Cups',   -- 346 Cradily
'Battle Armor','Battle Armor',   -- 347 Anorith
'Battle Armor','Battle Armor',   -- 348 Armaldo
'Swift Swim','Swift Swim',       -- 349 Feebas
'Marvel Scale','Marvel Scale',   -- 350 Milotic
'Forecast','Forecast',           -- 351 Castform
'Color Change','Color Change',   -- 352 Kecleon
'Levitate','Levitate',           -- 353 Shuppet
'Insomnia','Insomnia',           -- 354 Banette
'Levitate','Levitate',           -- 355 Duskull
'Pressure','Pressure',           -- 356 Dusclops
'Chlorophyll','Chlorophyll',     -- 357 Tropius
'Levitate','Levitate',           -- 358 Chimecho
'Early Bird','Early Bird',       -- 359 Absol
'Soundproof','Soundproof',       -- 360 Wynaut
'Inner Focus','Inner Focus',     -- 361 Snorunt corrigido
'Inner Focus','Oblivious',       -- 362 Glalie
'Oblivious','Thick Fat',         -- 363 Spheal
'Oblivious','Thick Fat',         -- 364 Sealeo
'Oblivious','Thick Fat',         -- 365 Walrein
'Shell Armor','Shell Armor',     -- 366 Clamperl
'Swift Swim','Swift Swim',       -- 367 Huntail
'Swift Swim','Swift Swim',       -- 368 Gorebyss
'Swift Swim','Rock Head',        -- 369 Relicanth
'Swift Swim','Swift Swim',       -- 370 Luvdisc
'Rock Head','Rock Head',         -- 371 Bagon
'Rock Head','Rock Head',         -- 372 Shelgon
'Intimidate','Intimidate',       -- 373 Salamence
'Clear Body','Clear Body',       -- 374 Beldum
'Clear Body','Clear Body',       -- 375 Metang
'Clear Body','Clear Body',       -- 376 Metagross
'Clear Body','Clear Body',       -- 377 Regirock
'Clear Body','Clear Body',       -- 378 Regice
'Clear Body','Clear Body',       -- 379 Registeel
'Levitate','Levitate',           -- 380 Latias corrigido
'Levitate','Levitate',           -- 381 Latios
'Drizzle','Drizzle',             -- 382 Kyogre
'Drought','Drought',             -- 383 Groudon
'Air Lock','Air Lock',           -- 384 Rayquaza
'Serene Grace','Serene Grace',   -- 385 Jirachi
'Pressure','Pressure'            -- 386 Deoxys
}

function obter_endereco(slot)
    local endereco_base = 0x02024284
    local tamanho_slot = 0x64

    return endereco_base + (slot - 1)*tamanho_slot
end

-- Tabela completa de ordem das subestruturas
-- O índice é o resto (0-23)
-- Os valores são {Bloco na Pos 1, Bloco na Pos 2, Bloco na Pos 3, Bloco na Pos 4}
-- Onde: 0=Growth, 1=Attacks, 2=EVs, 3=Misc
local tabela_ordem = {
    [0] = {0, 1, 2, 3}, [1] = {0, 1, 3, 2}, [2] = {0, 2, 1, 3}, [3] = {0, 3, 1, 2}, [4] = {0, 2, 3, 1}, [5] = {0, 3, 2, 1},
    [6] = {1, 0, 2, 3}, [7] = {1, 0, 3, 2}, [8] = {2, 0, 1, 3}, [9] = {3, 0, 1, 2}, [10] = {2, 0, 3, 1}, [11] = {3, 0, 2, 1},
    [12] = {1, 2, 0, 3}, [13] = {1, 3, 0, 2}, [14] = {2, 1, 0, 3}, [15] = {3, 1, 0, 2}, [16] = {2, 3, 0, 1}, [17] = {3, 2, 0, 1},
    [18] = {1, 2, 3, 0}, [19] = {1, 3, 2, 0}, [20] = {2, 1, 3, 0}, [21] = {3, 1, 2, 0}, [22] = {2, 3, 1, 0}, [23] = {3, 2, 1, 0}
}

function exportar_pokemon(endereco)
    local pid = emu:read32(endereco)
    local otid = emu:read32(endereco + 4)
    local key = pid ~ otid -- Calcula a chave XOR
    local resto = pid % 24
    
    local offset_misc = 0
    -- Procura em qual das 4 posições está o bloco 3 (Misc)
    for i = 1, 4 do
        if tabela_ordem[resto][i] == 3 then
            offset_misc = (i - 1) * 12
        end
    end

    local dados_misc = emu:read32(endereco + 0x20 + offset_misc + 4)
    local misc = dados_misc ~ key -- 'misc' é o valor desencriptado

    local offset_growth = 0
    -- Procura a posição do bloco 0 (Growth)
    for i = 1, 4 do
        if tabela_ordem[resto][i] == 0 then
            offset_growth = (i - 1) * 12
        end
    end

    -- Lê e desencripta o bloco Growth
    local dados_growth = emu:read32(endereco + 0x20 + offset_growth)
    local growth_desencriptado = dados_growth ~ key
    local especie_id = growth_desencriptado % 65536 -- Pega os 16 bits iniciais
    local item_id = growth_desencriptado >> 16

    local nivel = emu:read8(endereco + 0x54)

    -- Extraindo os IVs
    local hp = misc & 31
    local atk = (misc >> 5) & 31
    local def = (misc >> 10) & 31
    local speed = (misc >> 15) & 31
    local spa = (misc >> 20) & 31
    local spd = (misc >> 25) & 31
    
    local is_egg = (misc >> 30) & 1
    local ability_num = (misc >> 31) & 1

    local offset_attacks = 0
    -- Procura a posição do bloco 0 (Growth)
    for i = 1, 4 do
        if tabela_ordem[resto][i] == 1 then
            offset_attacks = (i - 1) * 12
        end
    end
    local dados_attacks = emu:read32(endereco + 0x20 + offset_attacks)
    local attacks_desencriptado = dados_attacks ~ key
    local move1 = attacks_desencriptado % 65536
    local move2 = attacks_desencriptado >> 16
    local dados_attacks_2 = emu:read32(endereco + 0x20 + (offset_attacks + 4))
    local attacks_desencriptado_2 = dados_attacks_2 ~ key
    local move3 = attacks_desencriptado_2 % 65536
    local move4 = attacks_desencriptado_2 >> 16

    --- Cálculo da Natureza (PID % 25)
    local nature_id = pid % 25

    if especie_id > 0 then
        -- 1. Tradução da Natureza
        local nome_nature = nature[nature_id + 1]

        -- 2. Tradução do Item (se item_id for 0, está sem item)
        local nome_item = "None"
        if item_id > 0 and item[item_id] then
            nome_item = item[item_id]
        end

        -- 3. Tradução da Habilidade
        -- Multiplicamos por 2 porque a tabela tem 2 nomes por Pokémon
        local indice_hab = ((especie_id - 1) * 2) + 1 + ability_num
        local nome_ability = ability[indice_hab] or "Unknown"

        -- 4. Tradução dos Golpes
        local n1 = move[move1] or "---"
        local n2 = move[move2] or "---"
        local n3 = move[move3] or "---"
        local n4 = move[move4] or "---"

        -- IMPRESSÃO FINAL (Estilo Showdown)
        console:log("----------------------------------")
        -- Mantendo o ID até achar um jeito de colocar o nome do pokemon
        console:log("ESPÉCIE ID: " .. especie_id) 
        console:log("Ability: " .. nome_ability)
        console:log("Level: " .. nivel)
        console:log(nome_nature .. " Nature")
        console:log("Item: " .. nome_item)
        
        local str_ivs = string.format("IVs: %d HP / %d Atk / %d Def / %d SpA / %d SpD / %d Spe", 
                                       hp, atk, def, spa, spd, speed)
        console:log(str_ivs)
        
        console:log("- " .. n1)
        if move2 > 0 then console:log("- " .. n2) end
        if move3 > 0 then console:log("- " .. n3) end
        if move4 > 0 then console:log("- " .. n4) end
    end
end

function exportall()
    for i = 1, 6 do
        local endereco_base = obter_endereco(i)
        exportar_pokemon(endereco_base)
    end
end

